@import url('https://fonts.googleapis.com/css?family=Crimson+Text:400,700|Press+Start+2P');

@function source-han($type) {
	@return
		"Source Han #{$type} TC", "Source Han #{$type} TW", "Noto #{$type} CJK TC",
		"Source Han #{$type} SC", "Source Han #{$type} CN", "Noto #{$type} CJK SC",
		"Source Han #{$type}", "Noto #{$type} TC", "Noto #{$type} SC";
}

$names: "Regular",  "Bold";

@mixin source-han-serif($locale, $weight: 400, $name: nth($names, $weight / 100)) {

	@font-face {
		font-family: "Source Han Serif Web " + $locale;
		font-weight: $weight;
		unicode-range: U+11??, U+2E00-9FFF, U+A960-A97F, U+AC00-D7FF, U+F900-FAFF, U+FE1?, U+FE30-FE6F, U+FF00-FFEF, U+2????;
		src: url("https://zihaolu.github.io/assets/font/SourceHanSerif#{$locale}-#{$name}.woff2") format("woff2"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerif#{$locale}-#{$name}.woff") format("woff"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerif#{$locale}-#{$name}.otf") format("opentype");
	}
}

@font-face {
  font-family: "Kagami SC";
  src: url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Regular.woff2") format("woff2"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Regular.woff") format("woff"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Regular.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Kagami SC";
  src: url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Bold.woff2") format("woff2"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Bold.woff") format("woff"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifCN-Bold.otf") format("opentype");
  font-weight: 700;
  font-style: normal;
}

@font-face {
  font-family: "Kagami TC";
  src: url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Regular.woff2") format("woff2"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Regular.woff") format("woff"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Regular.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Kagami TC";
  src: url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Bold.woff2") format("woff2"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Bold.woff") format("woff"),
		     url("https://zihaolu.github.io/assets/font/SourceHanSerifTW-Bold.otf") format("opentype");
  font-weight: 700;
  font-style: normal;
}

@font-face {
  font-family: "Kagami Emoji";
  src: local("Apple Color Emoji"), // iOS & OS X 10.7
       local("Segoe UI Emoji"),    // Windows 8.1
       local("Segoe UI Symbol"),   // Windows 7
       local("Noto Color Emoji"),  // Android & Linux
       local("Android Emoji");     // Linux
}

@mixin font-sans {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Kagami Emoji";
}

@mixin font-serif($font-family-fallback: serif) {
  font-family: "Crimson Text", $font-family-fallback, "Kagami Emoji";
}

@mixin font-serif-zh-Hans($font-family-fallback: sans-serif) {
  font-family: "Crimson Text", "Source Han Serif SC", "Source Han Serif CN", "Noto Serif CJK SC", source-han("Serif"), "Source Han Serif Web CN", "Kagami SC", $font-family-fallback, "Kagami Emoji";
}

@mixin font-serif-zh-Hant($font-family-fallback: sans-serif) {
  font-family: "Crimson Text", "Source Han Serif TC", "Source Han Serif TW", "Noto Serif CJK TC", source-han("Serif"), "Source Han Serif Web TW", "Kagami TC", $font-family-fallback, "Kagami Emoji";
}

@mixin font-serif-ja($font-family-fallback: sans-serif) {
  font-family: "Crimson Text", "YuMincho", $font-family-fallback, "Kagami Emoji";
}

@mixin font-monospace($font-family-fallback: monospace) {
  font-family: Courier, Monaco, $font-family-fallback;
}

@function font-size($factor: 1.0) {
  @return $font-size * $factor;
}
